\documentclass[a4paper,landscape]{article}
\def\micro{\mu m}
\def\um{$\micro$ }
\def\degreesC{$\degree$C }
\def\percent{$\%$ }

\usepackage{geometry}
	\geometry{a4paper,
	total={170mm,257mm},
	left=5mm,
	top=10mm,
	right=10mm,
	bottom=15mm,
}

\input{global_color_scheme.tex}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{forloop}
\usepackage{array}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{gensymb}
\usepackage{mdframed}
\usepackage{graphicx}
\usepackage{tikz}

\usetikzlibrary{
	arrows,
	automata,
        shadings,
        shadows,
        shapes,
}
\usepackage[siunitx]{circuitikz}
\usepackage{makecell}
\usepackage{array}

\usepackage[colorlinks=true,linkcolor=blue,urlcolor=black,bookmarksopen=true]{hyperref}
\usepackage{bookmark}
\usepackage{hyperref}
\usepackage{sepfootnotes}
\usepackage{lipsum,tocloft} 
\usetikzlibrary{positioning}
\usetikzlibrary{patterns}

\usepackage{float}
\floatstyle{boxed} 
\restylefloat{figure}

\newcounter{TopProcessStep}
\newcounter{SubProcessStep}
\setcounter{TopProcessStep}{0}
\setcounter{SubProcessStep}{1}

\def\LastCleaniness{foo}

\newcommand{\getWaferCleaninessSymbol}[1]{
	\ifthenelse{\equal{#1}{clean}}{\begin{tikzpicture}\node [fill=cyan, rounded corners=5pt] {Clean};\end{tikzpicture}} {
		\ifthenelse{\equal{#1}{semi-clean}} {\begin{tikzpicture}\node [fill=green, rounded corners=5pt] {Semi clean};\end{tikzpicture}} {
			\ifthenelse{\equal{#1}{clean/semi-clean}} {
				\begin{tikzpicture}
					\node [fill=cyan, rounded corners=5pt] at (0,0.0) {Clean};
					\node [fill=green, rounded corners=5pt] at (1.0,0.0) {Semi clean};
				\end{tikzpicture}
			} {
				\ifthenelse{\equal{#1}{non-standard}} {
					\begin{tikzpicture}
						\node [fill=yellow, rounded corners=5pt] {Non standard};
					\end{tikzpicture}} {undef}
			}
		}
	}
}

\newcommand{\makeProcessTable}[5]{
	\setcounter{SubProcessStep}{0}
	\addtocounter{TopProcessStep}{1}
	\newpage
	\section{#1}
	\fbox{\begin{minipage}{6cm}
		\centering
		\begin{tikzpicture}[node distance = 3cm, auto, thick,scale=0.3, every node/.style={transform shape}]
			\input{#2}
		\end{tikzpicture}\\
		\textbf{Mask: #3}
	\end{minipage}}
	\hspace{0.25cm}
	\tiny\begin{tabular}{|p{2cm}|}
		\hline
		\textbf{Wafer Cleanliness} \\
		#4
		\hline
        \end{tabular}
	\hspace{0.25cm}
        \begin{tabular}{
			|p{1.4cm}
			|p{3cm}
			|p{1.5cm}
			|p{2cm}
			|p{4cm}
			|p{4cm}
			|}
		\hline
		\textbf{Step Number} &
		\textbf{Equipment} &
		\textbf{Location} &
		\textbf{Cleanliness} &
		\textbf{Process} &
		\textbf{Requirements} \\
		#5
		\hline
	\end{tabular}
}

\newcommand{\addProcessStep}[5]{
	\hline
	\addtocounter{SubProcessStep}{1}
	\arabic{TopProcessStep}.\arabic{SubProcessStep} &
	#1 &
	#2 &
	\getWaferCleaninessSymbol{#3} &
	#4 &
	#5 \\[0.25cm]
}

\newcommand{\addLevelCell}[1]{
	\hline
	\getWaferCleaninessSymbol{#1} \\[0.25cm]
}

\author{David Lanzend√∂rfer}
\title{LibreSilicon process HKUST (NFF)}
\begin{document}
\maketitle
\begin{abstract}
	\input{process_abstract.tex} \\
	Please see the document with the generic steps\footnote{\url{https://github.com/leviathanch/libresiliconprocess/raw/master/process_steps/process_steps.pdf}}
	in order to get a detailed description of the different steps.	
\end{abstract}
\vfill
\newpage

Process Flow of Lanceville Technologies LibreSilicon 180nm

\begin{itemize}
	\item Project: LibreSilicon 1\um
	\item Name: Lanceville Technologies Group
	\item Substrate: P-Substrate silicon wafer <100>
	\item Date: \today
\end{itemize}

\begin{mdframed}[linewidth=2pt,linecolor=black]
\begin{center}
	\begin{tikzpicture}[node distance = 3cm, auto, thick,scale=1.0, every node/.style={transform shape}]
		\input{tikz_process_steps/silicification.a.tex}
	\end{tikzpicture}
\end{center}
\end{mdframed}
\input{tables_autogen.tex}
\end{document}
