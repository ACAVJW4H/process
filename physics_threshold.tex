\subsection{Threshold voltage ($V_T$)}\label{transistor_threshold_calculation}
The formula for calculating the threshold voltage of a MOS device is the following:
\begin{equation}
V_T = V_{t-mos} + V_{FB}
\end{equation}
where $V_{t-mos}$ is the ideal threshold voltage of an ideal MOS capacitor and $V_{FB}$ is what is termed flat-band voltage and $V_{t-mos}$ is the threshold.
The MOS threshold voltage, $V_{t-mos}$ is calculated by considering the MOS capacitor structure that form the gate of the MOS transistor.

The ideal threshold voltage may be expressed as:
\begin{equation}
V_{t-mos}=2 \phi_F + \frac{Q_b}{C_{ox}}
\end{equation}
\begin{equation}
Q_b
=
\sqrt{2 \epsilon_{Si} q N_A ( 2 \phi_F + V_{SB}) }
\end{equation}
where $C_{ox}$ is the oxide capacitance and $Q_b$ which is called the bulk charge term.\\

The bulk potential is given by:
\begin{equation}
\phi_F
=
V_{th} ln\left(\frac{p}{N_i}\right)
=
-V_{th} ln\left(\frac{n}{N_i}\right)
\end{equation}
Tthe bulk potential is positive for p-type substrates and negative for n-type substrates.

$V_{th}$ is the thermal voltage.\footnote{\url{https://en.wikipedia.org/wiki/Boltzmann_constant\#Role_in_semiconductor_physics:_the_thermal_voltage}}
\begin{equation}
V_{th} = \frac{k T}{q} \approx 0.026 \frac{J}{C} = 0.026 V = 26mV
\end{equation}
With the variables being:
\begin{itemize}
\item $k=1.38064852\cdot 10{-23}  \frac{J}{K}$ is the Boltzmann constant
\item $q=1.602 \cdot 10^{-19} C$ is the elementary charge
\item $T= 300 \degree K$ the temperature, which we assume to be the room temperature for simplicity further on in this document as well.
\end{itemize}
We can directly switch $\frac{J}{C}$ with Volts because these two units are equal!\footnote{\url{https://en.wikipedia.org/wiki/Volt}}
Also $V_{th}$ will be treated as a constant for any further calculations within this document.

Since we connect bulk and source and are using p-substrate we can simplify the equation to become
\begin{equation}
Q_b
=
2 \sqrt{\epsilon_{Si} q N_A V_{th} ln\left(\frac{N_A}{N_i}\right) }
\end{equation}


$V_{FB}$, is given by:
\begin{equation}
V_{FB}
=
\phi_{MS}-\frac{Q_f}{C_{ox}}-\frac{1}{C_{ox}}\int_{0}^{t_{ox}}\frac{x}{x_{ox}}\rho(x) dx
\end{equation}

Because we're not yet dealing with non-volatile memory devices which contain an oxide surface state charge we can just set $Q_f=0$ as well as $\rho(x)$
\begin{equation}
\rho(x)=0
V_{FB}
=
\phi_{MS}
\end{equation}
with
\begin{equation}
V_{FB}
=
\phi_{MS}
=
\phi_{M} - \phi_{S}
=
\phi_{M} -  \left(\chi + \frac{E_g}{2} + \phi_F \right)
\end{equation}

And because of the simplifications we did to $F_{FB}$ which essentially led to $F_{FB}=\phi_{MS}$ we get to:
\begin{equation}
V_T = V_{t-mos} + \phi_{MS}
\end{equation}



That's our target equation, in which the capacity has the unit $\frac{F}{cm^2}$ and $V_T$ has the unit Volt:
\begin{equation}
\boxed{
V_T= \frac{1.66 \cdot 10^{-7}}{C_{ox}}-0.094
}
\end{equation}

This equation will be used further on to find the optimum gate oxide thickness for our transistors.
