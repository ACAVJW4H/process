%\documentclass[12pt, a4paper, twoside, titlepage]{article}
\documentclass[10pt,a4paper,oneside]{article}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{gensymb}
\usepackage{graphicx}
\usepackage[dvipsnames]{xcolor}
\usepackage{tikz}
\usetikzlibrary{arrows,automata,shapes}
\tikzstyle{decision} = [diamond, draw, fill=blue!20, text width=4.5em, text badly centered, node distance=2.5cm, inner sep=0pt]
\tikzstyle{block} = [rectangle, draw, fill=blue!20, text width=5em, text centered, rounded corners, minimum height=4em]
\tikzstyle{line} = [draw, very thick, color=black!50, -latex']
\tikzstyle{cloud} = [draw, ellipse,fill=red!20, node distance=2.5cm,minimum height=2em]
\usepackage[siunitx]{circuitikz}

\definecolor{LightGray}{gray}{0.9}
\definecolor{NormalGray}{gray}{0.8}
\definecolor{DarkGray}{gray}{0.7}

\title{Libre Silicon process specification}
\date{\today} 
\author{David Lanzendörfer}

\begin{document}
\maketitle

\begin{abstract}
	Copyright © 2017 LANCEVILLE TECHNOLOGY GROUP CO., LIMITED. All rights reserved. \\

	This process is licensed under the Libre Silicon public license; you can redistribute it and/or modify it under the terms of the Libre Silicon public license
	as published by the Libre Silicon alliance, either version 1 of the License, or (at your option) any later version.

	This design is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
	See the Libre Silicon Public License for more details. \\

	This is the specification of the free silicon manufacturing standard for manufacturing the ls180nm\footnotemark standard logic cells and related free technology nodes from the LibreSilicon project.
	\footnotetext[1]{https://github.com/leviathanch/ls180nm}
\end{abstract}
\newpage

\section{Discrete components}
This basic initial process draft is CMOS only and for this reason only consists the two MOSFET typed n/p required to build CMOS technology.
Resistors are not included within this initial process draft.

\subsection{NMOS}
The following circuit symbol will be used throughout the document for symbolizing a NMOS transistor
\begin{center}
	\begin{circuitikz}
		\node at (5,0) [ground] (gnd) {};
		\node at (5,2) [nigfete] (nmos) {} ;
		\node at (4.5,5) [right] (vdd) {$V_{DD}$};
		\draw (gnd) to (nmos.S);
		\draw (nmos.D) to (5,2.5) [R] to (vdd);
		\draw (gnd) to +(-1,0) [vsourcesquare] to (nmos.G);
		\node at (3.9,2.0) {Gate};
		\node at (5.6,2.5) {Drain};
		\node at (5.6,1.5) {Source};
	\end{circuitikz}
\end{center}

The geometry in silicon is being shown below
\begin{center}
	\begin{tikzpicture}
		% substrate
		\fill[YellowOrange] (0,0) rectangle (7.5,2);
		\node at (2,0.5) {Si (p-type)};
		% body
		\fill[Melon] (0.5,1) rectangle (2,2);
		\node at (1,1.5) {p+};
		% source
		\fill[Blue] (2.5,1) rectangle (4,2);
		\node at (3,1.5) {n+};
		% drain
		\fill[Blue] (5.5,1) rectangle (7,2);
		\node at (6,1.5) {n+};
		%% gate:
		% gate oxide
		\fill[LightGray] (3.8,2) rectangle (5.7,2.1);
		% gate poly
		\fill[Red] (3.8,2.1) rectangle (5.7,2.2);
		% metals ground
		\fill[DarkGray] (1,2) rectangle (1.5,3);
		\fill[DarkGray] (3,2) rectangle (3.5,3);
		\fill[DarkGray] (0,3) rectangle (3.5,3.2); % connection pad GND

		\fill[DarkGray] (4.5,2.2) rectangle (5,3);
		\fill[DarkGray] (4.3,3) rectangle (5.2,3.2); % connection pad VG

		\fill[DarkGray] (6,2) rectangle (6.5,3);
		\fill[DarkGray] (5.8,3) rectangle (6.7,3.2); % connection pad VDD

		% isolation oxides:
		\fill[NormalGray] (0,2) rectangle (1,3);
		\fill[NormalGray] (1.5,2) rectangle (3,3);
		\fill[NormalGray] (3.5,2) rectangle (3.8,3);
		\fill[NormalGray] (3.8,2.2) rectangle (4.5,3);
		\fill[NormalGray] (5,2.2) rectangle (5.7,3);
		\fill[NormalGray] (5.7,2) rectangle (6,3);
		\fill[NormalGray] (6.5,2) rectangle (7.5,3);
		
		\node at (0.5,3.5) {Source};
		\node at (4.5,3.4) {Gate};
		\node at (6.5,3.4) {Drain};
	\end{tikzpicture}
\end{center}

\newpage

\subsection{PMOS}
The following circuit symbol will be used throughout the document for symbolizing a PMOS transistor
\begin{center}
	\begin{circuitikz}
		\node at (5,0) [ground] (gnd) {};
		\node at (5,2) [pigfete,xscale=1,yscale=-1] (pmos) {} ;
		\node at (4.5,5) [right] (vdd) {$V_{DD}$};
		\draw (gnd) to (pmos.S);
		\draw (pmos.D) to (5,2.5) [R] to (vdd);
		\draw (gnd) to +(-1,0) [vsourcesquare] to (pmos.G);
		\node at (3.9,2.0) {Gate};
		\node at (5.6,2.5) {Drain};
		\node at (5.6,1.5) {Source};
	\end{circuitikz}
\end{center}

The geometry in silicon is being shown below
\begin{center}
	\begin{tikzpicture}
		% substrate
		\fill[YellowOrange] (0,0) rectangle (7.5,2);
		\node at (2,0.5) {Si (p-type)};

		% n-well
		\fill[Goldenrod] (0.25,0.75) rectangle (7.25,2);
		\node at (4.75,1) {N-Well};

		% body
		\fill[Blue] (0.5,1) rectangle (2,2);
		\node at (1,1.5) {n+};
		% source
		\fill[Melon] (2.5,1) rectangle (4,2);
		\node at (3,1.5) {p+};
		% drain
		\fill[Melon] (5.5,1) rectangle (7,2);
		\node at (6,1.5) {p+};
		%% gate:
		% gate oxide
		\fill[LightGray] (3.8,2) rectangle (5.7,2.1);
		% gate poly
		\fill[Red] (3.8,2.1) rectangle (5.7,2.2);
		% metals ground
		\fill[DarkGray] (1,2) rectangle (1.5,3);
		\fill[DarkGray] (3,2) rectangle (3.5,3);
		\fill[DarkGray] (0,3) rectangle (3.5,3.2); % connection pad GND

		\fill[DarkGray] (4.5,2.2) rectangle (5,3);
		\fill[DarkGray] (4.3,3) rectangle (5.2,3.2); % connection pad VG

		\fill[DarkGray] (6,2) rectangle (6.5,3);
		\fill[DarkGray] (5.8,3) rectangle (6.7,3.2); % connection pad VDD

		% isolation oxides:
		\fill[NormalGray] (0,2) rectangle (1,3);
		\fill[NormalGray] (1.5,2) rectangle (3,3);
		\fill[NormalGray] (3.5,2) rectangle (3.8,3);
		\fill[NormalGray] (3.8,2.2) rectangle (4.5,3);
		\fill[NormalGray] (5,2.2) rectangle (5.7,3);
		\fill[NormalGray] (5.7,2) rectangle (6,3);
		\fill[NormalGray] (6.5,2) rectangle (7.5,3);
		
		\node at (0.5,3.5) {Source};
		\node at (4.5,3.4) {Gate};
		\node at (6.5,3.4) {Drain};
	\end{tikzpicture}
\end{center}

\newpage

\section{CMOS example}
The example which will be used for showing the process steps will be a simple CMOS inverter of which the schematics are drawn below
\begin{center}
	\begin{circuitikz}
		\node at (5,0) [ground] (gnd) {};
		\node at (5,2) [nigfete] (nmos) {} ;
		\node at (5,4) [pigfete] (pmos) {} ;
		\node at (4.5,7) [right] (vdd) {$V_{DD}$};
		\draw (gnd) to (nmos.S);
		\draw (pmos.S) to (5,4.5) [R] to (vdd);
		\draw (gnd) to +(-2,0) [vsourcesquare] to (3,1.75);
		\node at (3.9,2.0) {Gate};
		\node at (5.6,2.5) {Drain};
		\node at (5.6,1.5) {Source};
		\draw (nmos.G) to (3,1.75) to (3,4.275) to (pmos.G);
		\node at (3.9,4.0) {Gate};
		\node at (5.6,3.5) {Drain};
		\node at (5.6,4.5) {Source};
		\draw (pmos.D) to (nmos.D) to (7,2.75) to (7,1.75) [R] to (7,0);
		\draw (7,0) to (gnd);
	\end{circuitikz}
\end{center}

\newpage
\section{Process}
Below the general flow chart of the overall process flow can be seen. These process steps will be discussed within the following sections.
\begin{center}
	\begin{tikzpicture}[node distance = 3cm, auto, thick,scale=0.5, every node/.style={transform shape}]
		% Place nodes
		\node [block] (well) {Well};
		\node [block, below of=well] (implant) {Implant};
		\node [block, below of=implant] (select) {Select};
		\node [block, below of=select] (active) {Active};
		\node [block, below of=active] (metal) {Metal 1-6};
		% Draw edges
		\path [line] (well) -- (implant);
		\path [line] (implant) -- (select);
		\path [line] (select) -- (active);
		\path [line] (active) -- (metal);
		
		\draw[dotted] (-2,-10.5) rectangle (2,1.5);
		\node at (3.5,-5) {CMOS process};
	\end{tikzpicture}
\end{center}
The four starting overall process steps are part of an overall active part of the technology, while the final metal (respectively contact) layers will be used for making a contact between the logic gates and macro cells and making them available to the exterior world.
For this process p-substrate is the required basic substrate, but forks and modifications will be very well possible based on a Graphene substrate or alike, still under the LSPL.
The decision to use an n-well approach is based largely on the compatibility with the existing nMOS process.
The starting material is a p-type, <100> oriented silicon with a doping concentration of $\approx 9\times10^{14}cm^{-3}$.

\subsection{Well}
In order to build CMOS (Complementary metal–oxide–semiconductor/P and N MOS) on the same substrate an n-well is required for building the complementary P-channel transistor for a n-p-channel logic circuitry as shown above in the example section.
The n-well will serve us as an island of n-doped substrate within the p-doped basis substrate.

\subsubsection{Dioxide layer}
\begin{center}
	\begin{tikzpicture}[node distance = 3cm, auto, thick,scale=0.5, every node/.style={transform shape}]
		% substrate
		\fill[YellowOrange] (0,0) rectangle (4,1.6);
		\node at (2,0.8) {Si (p-type)};
	\end{tikzpicture}
	\begin{tikzpicture}[node distance = 3cm, auto, thick,scale=0.5, every node/.style={transform shape}]
		% substrate
		\fill[YellowOrange] (0,0) rectangle (4,1.6);
		\node at (2,0.8) {Si (p-type)};
		% oxide
		\fill[gray] (0,1.6) rectangle (4,2.6);
		\node at (2,2.1) {SiO2};
	\end{tikzpicture}
\end{center}
In order to selectively inject charge carrying atoms into the crystalline structure a protective dioxide ($SiO_2$) layer needs to be grown on top of a p-type substrate.
There is no clear general equation perfectly describing the absorption behavior of silicon dioxide but the industrial best practice is a layer of around 1$\mu$m (1000nm) thickness.

\subsubsection{Pattering and etching}
\begin{center}
	\begin{tikzpicture}[node distance = 3cm, auto, thick,scale=0.5, every node/.style={transform shape}]
		% substrate
		\fill[YellowOrange] (0,0) rectangle (4,1.6);
		\node at (2,0.8) {Si (p-type)};
		% oxide
		\fill[gray] (0,1.6) rectangle (4,2.6);
		\node at (2,2.1) {SiO2};
		% resist
		\fill[orange] (0,2.6) rectangle (4,3.6);
		\node at (2,3.1) {Resist};
	\end{tikzpicture}
	\begin{tikzpicture}[node distance = 3cm, auto, thick,scale=0.5, every node/.style={transform shape}]
		% substrate
		\fill[YellowOrange] (0,0) rectangle (4,1.6);
		\node at (2,0.8) {Si (p-type)};
		% oxide
		\fill[gray] (0,1.6) rectangle (4,2.6);
		\node at (2,2.1) {SiO2};
		% resist 1
		\fill[orange] (0,2.6) rectangle (2,3.6);
		% resist 2
		\fill[orange] (3.5,2.6) rectangle (4,3.6);
	\end{tikzpicture}
	\begin{tikzpicture}[node distance = 3cm, auto, thick,scale=0.5, every node/.style={transform shape}]
		% substrate
		\fill[YellowOrange] (0,0) rectangle (4,1.6);
		\node at (2,0.8) {Si (p-type)};
		% oxide 1
		\fill[gray] (0,1.6) rectangle (2,2.6);
		% oxide 2
		\fill[gray] (3.5,1.6) rectangle (4,2.6);
		% resist 1
		\fill[orange] (0,2.6) rectangle (2,3.6);
		% resist 2
		\fill[orange] (3.5,2.6) rectangle (4,3.6);
	\end{tikzpicture}
\end{center}
The resist is being deposited using spin coating and then baked depending on the baking time for the specific resist.
The layout for being exposed onto the resist is being extracted from the "nwell" layer within the GDS2 file.
The thickness of the resist layer and the backing duration will variate depending on the specific equipment for which this process will be implemented with.

\subsubsection{Infusion}
\begin{center}
	%\begin{tikzpicture}[node distance = 3cm, auto, thick,scale=0.5, every node/.style={transform shape}]
	\begin{tikzpicture}
		% substrate
		\fill[YellowOrange] (0,0) rectangle (4,1.6);
		\node at (2,0.8) {Si (p-type)};
		% oxide 1
		\fill[gray] (0,1.6) rectangle (2,2.6);
		% oxide 2
		\fill[gray] (3.5,1.6) rectangle (4,2.6);
		% resist 1
		\fill[orange] (0,2.6) rectangle (2,3.6);
		% resist 2
		\fill[orange] (3.5,2.6) rectangle (4,3.6);
		% well
		\fill[Dandelion] (2,1.2) rectangle (3.5,1.6);
		\node at (2.7,1.4) {N};
	\end{tikzpicture}
\end{center}
The n-well is implanted with a $P^{31}$ dose of $2.5\times10^{12}cm^{-2}$ at an energy of 100 KeV.
The n-well is then annealed, oxidized for 32 minutes at 1000\degree C, and then driven-in for 960 minutes at 1150\degree C in an inert ambient.

\subsection{Implant}
\begin{center}
	%\begin{tikzpicture}[node distance = 3cm, auto, thick,scale=0.5, every node/.style={transform shape}]
	\begin{tikzpicture}
		% substrate
		\fill[YellowOrange] (0,0) rectangle (4,1.6);
		\node at (2,0.8) {Si (p-type)};

		%% active regions 1:
		% p-active 1
		\fill[blue] (0,1.3) rectangle (0.5,1.6);
		% p-active 2
		\fill[blue] (1.55,1.3) rectangle (2.05,1.6);
		% p-active 3
		\fill[blue] (3.5,1.3) rectangle (4,1.6);

		% oxide 1
		\fill[NormalGray] (0,1.6) rectangle (0.5,2);
		% oxide 2
		\fill[NormalGray] (1.55,1.6) rectangle (2.05,2);
		% oxide 3
		\fill[NormalGray] (3.5,1.6) rectangle (4,2);

		%% active regions 2
		% gate oxide 1
		\fill[DarkGray] (0.9,1.6) rectangle (1.1,1.7);
		% gate oxide 2
		\fill[DarkGray] (2.45,1.6) rectangle (2.65,1.7);
		% poly 1
		\fill[red] (0.9,1.7) rectangle (1.1,2);
		% poly 2
		\fill[red] (2.45,1.7) rectangle (2.65,2);

		% n-active 1
		\fill[green] (0.55,1.4) rectangle (0.95,1.6);
		% n-active 2
		\fill[green] (1.05,1.4) rectangle (1.45,1.6);

		% n-well
		\fill[Dandelion] (2.1,1.2) rectangle (3.45,1.6);
		\node at (2.7,1.4) {N};
		
		% p-active nwell 1
		\fill[blue] (2.15,1.4) rectangle (2.5,1.6);
		% p-active nwell 2
		\fill[blue] (2.6,1.4) rectangle (2.95,1.6);
		% n-active nwell 1
		\fill[green] (3.1,1.4) rectangle (3.3,1.6);

	\end{tikzpicture}
\end{center}

\subsection{Select}
\begin{center}
	%\begin{tikzpicture}[node distance = 3cm, auto, thick,scale=0.5, every node/.style={transform shape}]
	\begin{tikzpicture}
		% substrate
		\fill[YellowOrange] (0,0) rectangle (4,1.6);
		\node at (2,0.8) {Si (p-type)};

		%% active regions 1:
		% p-active 1
		\fill[blue] (0,1.3) rectangle (0.5,1.6);
		% p-active 2
		\fill[blue] (1.55,1.3) rectangle (2.05,1.6);
		% p-active 3
		\fill[blue] (3.5,1.3) rectangle (4,1.6);

		% oxide 1
		\fill[NormalGray] (0,1.6) rectangle (0.5,2);
		% oxide 2
		\fill[NormalGray] (1.55,1.6) rectangle (2.05,2);
		% oxide 3
		\fill[NormalGray] (3.5,1.6) rectangle (4,2);

		%% active regions 2
		% gate oxide 1
		\fill[DarkGray] (0.9,1.6) rectangle (1.1,1.7);
		% gate oxide 2
		\fill[DarkGray] (2.45,1.6) rectangle (2.65,1.7);
		% poly 1
		\fill[red] (0.9,1.7) rectangle (1.1,2);
		% poly 2
		\fill[red] (2.45,1.7) rectangle (2.65,2);

		% n-active 1
		\fill[green] (0.55,1.4) rectangle (0.95,1.6);
		% n-active 2
		\fill[green] (1.05,1.4) rectangle (1.45,1.6);

		% n-well
		\fill[Dandelion] (2.1,1.2) rectangle (3.45,1.6);
		\node at (2.7,1.4) {N};
		
		% p-active nwell 1
		\fill[blue] (2.15,1.4) rectangle (2.5,1.6);
		% p-active nwell 2
		\fill[blue] (2.6,1.4) rectangle (2.95,1.6);
		% n-active nwell 1
		\fill[green] (3.1,1.4) rectangle (3.3,1.6);

	\end{tikzpicture}
\end{center}

\subsection{Active}
\begin{center}
	%\begin{tikzpicture}[node distance = 3cm, auto, thick,scale=0.5, every node/.style={transform shape}]
	\begin{tikzpicture}
		% substrate
		\fill[YellowOrange] (0,0) rectangle (4,1.6);
		\node at (2,0.8) {Si (p-type)};

		%% active regions 1:
		% p-active 1
		\fill[blue] (0,1.3) rectangle (0.5,1.6);
		% p-active 2
		\fill[blue] (1.55,1.3) rectangle (2.05,1.6);
		% p-active 3
		\fill[blue] (3.5,1.3) rectangle (4,1.6);

		% oxide 1
		\fill[NormalGray] (0,1.6) rectangle (0.5,2);
		% oxide 2
		\fill[NormalGray] (1.55,1.6) rectangle (2.05,2);
		% oxide 3
		\fill[NormalGray] (3.5,1.6) rectangle (4,2);

		%% active regions 2
		% gate oxide 1
		\fill[DarkGray] (0.9,1.6) rectangle (1.1,1.7);
		% gate oxide 2
		\fill[DarkGray] (2.45,1.6) rectangle (2.65,1.7);
		% poly 1
		\fill[red] (0.9,1.7) rectangle (1.1,2);
		% poly 2
		\fill[red] (2.45,1.7) rectangle (2.65,2);

		% n-active 1
		\fill[green] (0.55,1.4) rectangle (0.95,1.6);
		% n-active 2
		\fill[green] (1.05,1.4) rectangle (1.45,1.6);

		% n-well
		\fill[Dandelion] (2.1,1.2) rectangle (3.45,1.6);
		\node at (2.7,1.4) {N};
		
		% p-active nwell 1
		\fill[blue] (2.15,1.4) rectangle (2.5,1.6);
		% p-active nwell 2
		\fill[blue] (2.6,1.4) rectangle (2.95,1.6);
		% n-active nwell 1
		\fill[green] (3.1,1.4) rectangle (3.3,1.6);

	\end{tikzpicture}
\end{center}

\subsection{Metal}


\end{document}