% substrate
\fill[substrate] (0,0) rectangle (10,2);
\node at (1.5,0.25) {Silicon substrate};

% n-well
\fill[nwell] (0.5,0.75) rectangle (9.5,2);
\node at (1.25,1) {N-Well};

%trenches
\fill[isolationoxide] (0,1.25) rectangle (1,2);
\node at (0.5,1.5) {FOX};
\fill[isolationoxide] (3,1.25) rectangle (4,2);
\node at (3.5,1.5) {FOX};
\fill[isolationoxide] (6,1.25) rectangle (7,2);
\node at (6.5,1.5) {FOX};
\fill[isolationoxide] (9,1.25) rectangle (10,2);
\node at (9.5,1.5) {FOX};

\fill[nimplant] (1,1.5) rectangle (3,2);
\node at (2.0,1.75) {n+};
\fill[pimplant] (4,1.5) rectangle (6,2);
\node at (5.0,1.75) {p+};
\fill[nimplant] (7,1.5) rectangle (9,2);
\node at (8.0,1.75) {n+};

\draw (5.0,1.5) -- (5.0,0.5) to[D,n=diode] (2.0,0.5) -- (2.0,1.5);
\draw (5.0,1.5) -- (5.0,0.5) to[D,n=diode] (8.0,0.5) -- (8.0,1.5);
\filldraw (5.0,0.5) circle (0.1);

\draw (2.0,2.0) -- (2.0,3.0);
\node at (2.0,3.25) {K};
\draw (5.0,2.0) -- (5.0,3.0);
\node at (5.0,3.25) {A};
\draw (8.0,2.0) -- (8.0,3.0);
\node at (8.0,3.25) {K};