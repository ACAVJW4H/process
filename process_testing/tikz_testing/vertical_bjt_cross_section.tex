% substrate
\fill[substrate] (0,0) rectangle (10.5,2);
\node at (1.5,0.25) {Silicon substrate};

% n-well
\fill[nwell] (0.5,0.75) rectangle (6.5,2);
\node at (2,1) {N-Well};

\fill[nimplant] (1.5,1.5) rectangle (3.5,2);
\node at (2,1.65) {n+};
\fill[pimplant] (3.5,1.5) rectangle (5.5,2);
\node at (5,1.65) {p+};

% p-well
\fill[pwell] (6.5,0.75) rectangle (10.0,2);
\node at (9,1) {P-Well};
\fill[pimplant] (7.25,1.5) rectangle (9.25,2);
\node at (9,1.65) {p+};

%trenches
\fill[isolationoxide] (0,1.25) rectangle (1.0,2);
\fill[isolationoxide] (6.0,1.25) rectangle (7.0,2);
\fill[isolationoxide] (9.5,1.25) rectangle (10.5,2);

\draw  (8.25,1.5) -- (8.25,-1.5) -- (4.5,-1.5) to[Tpnp,n=pnp] (4.5,1.5);

\draw (pnp.B) -- +(-1.15,0) -- (2.5,1.5);